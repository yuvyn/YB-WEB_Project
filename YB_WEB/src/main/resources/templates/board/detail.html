<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title th:text="${post.title} + ' - YB WEB'">κ²μ‹κΈ€ μƒμ„Έ - YB WEB</title>

    <!-- ν°νΈ -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- κ³µν†µ ν—¤λ”/ν‘Έν„° -->
    <link rel="stylesheet" th:href="@{/css/layout/header.css}">
    <link rel="stylesheet" th:href="@{/css/layout/footer.css}">

    <!-- μƒμ„Έ μ „μ© CSS -->
    <link rel="stylesheet" th:href="@{/css/board/detail.css}">
</head>
<body class="board-page">

<div class="page">

    <!-- ν—¤λ” -->
    <th:block th:replace="layout/header :: header"></th:block>

    <main class="board-main">

        <!-- μƒλ‹¨ μμ—­ -->
        <section class="board-header">
            <div class="board-inner">

                <div class="board-title-wrap">
                    <p class="breadcrumb">
                        <span th:switch="${boardType}">
                            <span th:case="${T(com.example.demo.domain.BoardType).NOTICE}">μƒμ†μ‹ &gt; κ³µμ§€μ‚¬ν•­</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).UPDATE}">μƒμ†μ‹ &gt; μ—…λ°μ΄νΈ</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).FREE}">μ»¤λ®¤λ‹ν‹° &gt; μμ κ²μ‹ν</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).QNA}">κ³ κ°μ„Όν„° &gt; λ¬Έμκ²μ‹ν</span>
                            <span th:case="*">κ²μ‹ν</span>
                        </span>
                    </p>

                    <h1 class="board-main-title"
                        th:text="${post.title}">
                        κ²μ‹κΈ€ μ λ©
                    </h1>

					<!-- π”Ή κ΄€λ¦¬μμ© μ²λ¦¬ μƒνƒ λ³€κ²½ μμ—­ (QNA + ADMIN) -->
									<!-- π”Ή κ΄€λ¦¬μμ© μ²λ¦¬ μƒνƒ λ³€κ²½ μμ—­ (QNA + λ΅κ·ΈμΈν• μ‚¬μ©μ) -->
									<div class="qna-admin-status"
									     th:if="${boardType.name() == 'QNA' 
									            and loginMember != null 
									            and loginMember.role == 'ADMIN'}">

									    <span class="label">λ¬Έμ μ²λ¦¬μƒνƒ</span>

									    <form th:action="@{|/board/qna/${post.id}/status|}" method="post">
									        <input type="hidden" name="status" value="RECEIVED"/>
									        <button type="submit" 
									                th:classappend="${post.qnaStatus=='RECEIVED'} ? 'active'"
									                class="btn-status">μ ‘μ</button>
									    </form>
									    <form th:action="@{|/board/qna/${post.id}/status|}" method="post">
									        <input type="hidden" name="status" value="IN_PROGRESS"/>
									        <button type="submit"
									                th:classappend="${post.qnaStatus=='IN_PROGRESS'} ? 'active'"
									                class="btn-status">μ²λ¦¬μ¤‘</button>
									    </form>
									    <form th:action="@{|/board/qna/${post.id}/status|}" method="post">
									        <input type="hidden" name="status" value="DONE"/>
									        <button type="submit"
									                th:classappend="${post.qnaStatus=='DONE'} ? 'active'"
									                class="btn-status">λ‹µλ³€μ™„λ£</button>
									    </form>

									</div>
					
                    <div class="board-meta">

                        <span class="meta-badge"
                              th:switch="${boardType}">
                            <span th:case="${T(com.example.demo.domain.BoardType).NOTICE}">κ³µμ§€μ‚¬ν•­</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).UPDATE}">μ—…λ°μ΄νΈ</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).FREE}">μμ κ²μ‹ν</span>
                            <span th:case="${T(com.example.demo.domain.BoardType).QNA}">λ¬Έμ</span>
                            <span th:case="*">κ²μ‹κΈ€</span>
                        </span>

                        <span class="meta-item">
                            μ‘μ„±μ
                            <strong th:text="${post.writer}">κ΄€λ¦¬μ</strong>
                        </span>

                        <span class="meta-divider">|</span>

                        <span class="meta-item">
                            μ‘μ„±μΌ
                            <strong th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd HH:mm')}">
                                2025.12.01 12:00
                            </strong>
                        </span>

                        <span class="meta-divider">|</span>

                        <span class="meta-item">
                            μ΅°ν
                            <strong th:text="${post.viewCount}">123</strong>
                        </span>

						<span class="meta-divider"
						      th:if="${boardType != null and boardType.name() == 'QNA'}">|</span>

						<span class="meta-item"
						      th:if="${boardType != null and boardType.name() == 'QNA'}">
						    μ²λ¦¬ μƒνƒ
						    <strong th:text="${post.qnaStatusLabel}">μ ‘μ</strong>
						</span>
						
                        <!-- κ³µμ§€ κ³ μ • ν‘μ‹ -->
                        <span class="meta-pin"
                              th:if="${post.noticePin}">
                            μƒλ‹¨κ³ μ •
                        </span>
                    </div>
                </div>

            </div>
        </section>

        <!-- λ‚΄μ© μμ—­ -->
        <section class="detail-section">
            <div class="board-inner">

                <article class="detail-card">

                    <div class="detail-content"
                         th:utext="${#strings.replace(post.content, '\n', '<br/>')}">
                        λ‚΄μ©μ΄ λ“¤μ–΄κ°‘λ‹λ‹¤.
                    </div>

                </article>

                <!-- λ²„νΌλ“¤ -->
                <div class="detail-actions">

                    <a class="btn-secondary"
                       th:href="@{'/board/' + ${#strings.toLowerCase(boardType.name())}}">
                        λ©λ΅μΌλ΅
                    </a>

                    <!-- μμ •/μ‚­μ λ” λ‚μ¤‘μ— κΈ°λ¥ λ§λ“¤λ©΄ λ§ν¬ μ—°κ²°ν•λ©΄ λ¨ -->
                    <!--
                    <div class="btn-right">
                        <a class="btn-outline" href="#">μμ •</a>
                        <form method="post" th:action="@{'/board/' + ${boardType} + '/' + ${post.id} + '/delete'}">
                            <button type="submit" class="btn-danger">μ‚­μ </button>
                        </form>
                    </div>
                    -->

                </div>

            </div>
        </section>

    </main>

    <!-- ν‘Έν„° -->
    <th:block th:replace="layout/footer :: footer"></th:block>

</div>

</body>
</html>