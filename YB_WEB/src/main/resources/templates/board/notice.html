<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>공지사항 - YB WEB</title>

    <!-- 폰트 -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- 공통 레이아웃 CSS -->
    <link rel="stylesheet" th:href="@{/css/layout/header.css}">
    <link rel="stylesheet" th:href="@{/css/layout/footer.css}">

    <!-- 업데이트 전용 CSS -->
    <link rel="stylesheet" th:href="@{/css/board/update.css}">
</head>
<body class="board-page">

<div class="page">

    <!-- 공통 헤더 -->
    <th:block th:replace="layout/header :: header"></th:block>

    <!-- 메인 영역 -->
    <main class="board-main">

        <!-- 상단 타이틀 / 서브탭 -->
        <section class="board-header">
            <div class="board-header-inner">

                <div class="board-title-wrap">
                    <p class="breadcrumb">새소식 &gt; 공지사항</p>
                    <h1>공지사항 안내</h1>
                    <p class="board-desc">
                        YB WEB의 최신 공지 및 시스템 변경 사항을 확인하실 수 있습니다.
                    </p>
                </div>
            </div>
        </section>

        <!-- 검색/필터 영역 -->
        <section class="board-toolbar-section">
            <div class="board-toolbar-inner">

                <div class="board-count">
                    총 <span>12</span>건의 공지사항이 있습니다.
                </div>

                <form class="board-search" method="get">
                    <select name="type">
                        <option value="">구분 전체</option>
                        <option value="patch">패치 노트</option>
                        <option value="system">시스템</option>
                        <option value="event">이벤트</option>
                        <option value="etc">기타</option>
                    </select>

                    <input type="text" name="keyword" placeholder="업데이트 내용 검색">
                    <button type="submit">검색</button>
                </form>

            </div>
        </section>

        <!-- 상단 주요 업데이트 카드 -->
        <section class="update-featured-section">
            <div class="board-inner">

                <article class="update-featured-card">
                    <div class="badge-line">
                        <span class="badge badge-type">공지사항</span>
                        <span class="badge badge-new">NEW</span>
                    </div>

                    <h2 class="featured-title">
                        [정식 서버] 겨울 시즌 대규모 업데이트 안내
                    </h2>

                    <p class="featured-desc">
                        신규 레이드 &lt;프로스트 로드&gt;, 신규 클래스, 장비 성장 동선 개편과
                        각종 편의성 개선 사항이 적용됩니다. 자세한 내용은 아래 본문을 통해 확인해 주세요.
                    </p>

                    <div class="featured-meta">
                        <span class="date">2025.12.01</span>
                        <span class="divider">|</span>
                        <span class="view">조회 3,250</span>
                    </div>
                </article>

            </div>
        </section>

        <!-- 업데이트 목록 테이블 -->
        <section class="board-list-section">
            <div class="board-inner">

                <table class="board-table">
                    <colgroup>
                        <col style="width: 110px;">
                        <col>
                        <col style="width: 120px;">
                        <col style="width: 110px;">
                    </colgroup>
                    <thead>
                    <tr>
                        <th>구분</th>
                        <th>제목</th>
                        <th>등록일</th>
                        <th>조회수</th>
                    </tr>
                    </thead>
                    <tbody>
						<tr th:each="post : ${posts}"
						    th:classappend="${post.noticePin} ? ' row-pin'">
						
						    <!-- 구분 -->
						    <td>
						        <span class="tag"
						              th:classappend="${post.noticePin} ? ' pin' : ' type-etc'"
						              th:text="${post.noticePin} ? '공지' : '-'">
						            공지
						        </span>
						    </td>
						
						    <!-- 제목 -->
						    <td class="title-cell">
							    <a th:href="@{'/board/NOTICE/' + ${post.id}}"
							       th:text="${post.title}">
						            제목
						        </a>
						        <span class="badge-mini" th:if="${post.isNew}">NEW</span>
						    </td>
						
						    <!-- 날짜 -->
						    <td th:text="${#temporals.format(post.createdAt, 'yyyy.MM.dd')}">2025.11.29</td>
						
						    <!-- 조회수 -->
						    <td th:text="${post.viewCount}">0</td>
						</tr>
						</tbody>
                </table>

                <!-- 페이징 (더미) -->
                <div class="pagination">
                    <button class="page-btn prev" type="button">&lt;</button>
                    <button class="page-btn active" type="button">1</button>
                    <button class="page-btn" type="button">2</button>
                    <button class="page-btn" type="button">3</button>
                    <button class="page-btn next" type="button">&gt;</button>
                </div>
                
                <!-- ✅ 글쓰기 버튼 영역 추가 -->
                <div class="board-write-wrap">
                    <!-- 공지사항은 BoardType.NOTICE 이므로 대문자 NOTICE 사용 -->
                    <a th:href="@{'/board/NOTICE/write'}" class="btn-write">글쓰기</a>
                </div>

            </div>
        </section>

    </main>

    <!-- 공통 푸터 -->
    <th:block th:replace="layout/footer :: footer"></th:block>
</div>

</body>
</html>